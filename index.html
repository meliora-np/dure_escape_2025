<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‘ë ˆêµíšŒ ì²­ë…„ë¶€ U TURN TO GOD</title>

    <link rel="stylesheet" href="styles.css">

    <style>
        /* CLEAR ì˜¤ë²„ë ˆì´ â€” ì˜¬ë°”ë¥´ê²Œ ì¤‘ì•™ì— í‘œì‹œë¨ */
        .story-wrapper {
            position: relative;
            display: inline-block;
        }

        .clear-badge {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ff99;
            font-size: 40px;
            font-weight: bold;
            background: rgba(0,0,0,0.55);
            padding: 20px 40px;
            border-radius: 20px;
            opacity: 0;
            pointer-events: none;
            transition: 0.3s;
        }

        .story-wrapper.cleared .clear-badge {
            opacity: 1;
        }

        /* CLEAR ë±ƒì§€ê°€ ë²„íŠ¼ í´ë¦­ ë§‰ëŠ” ë¬¸ì œ í•´ê²° */
        .story-wrapper,
        .story-wrapper * {
            pointer-events: none;
        }

        .story-wrapper img,
        .story-item {
            pointer-events: auto;
        }

        /* ì—”ë”© ë²„íŠ¼ */
        #ending-section {
            display: none;
            margin-top: 30px;
            text-align: center;
        }

        #ending-section button {
            background-color: #0099ff;
            padding: 1em 2em;
            font-size: 20px;
            border-radius: 20px;
            color: white;
        }
    </style>

</head>

<body class="index">

    <!-- HEADER -->
    <header>
        <h3>U, TURN TO GOD</h3>
        <h2>ìŠ¤í† ë¦¬ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”</h2>
    </header>

    <!-- MAIN -->
    <main>

        <!-- EXAM -->
        <section class="story-button">
            <div class="story-wrapper">
                <button onclick="navigateToStory('exam/exam.html')" class="story-item">
                    <img src="images/MannaAndQuailLogo.JPG" alt="Exam Story Logo">
                </button>
                <div class="clear-badge" id="exam-clear">CLEAR</div>
            </div>
        </section>

        <!-- LAPTOP -->
        <section class="story-button">
            <div class="story-wrapper">
                <button onclick="navigateToStory('laptop/laptop.html')" class="story-item">
                    <img src="images/RephidimLogo.jpg" alt="Laptop Story Logo">
                </button>
                <div class="clear-badge" id="laptop-clear">CLEAR</div>
            </div>
        </section>

        <!-- SPY -->
        <section class="story-button">
            <div class="story-wrapper">
                <button onclick="navigateToStory('spy/spy.html')" class="story-item">
                    <img src="images/GoldenCalfLogo.JPG" alt="Spy Story Logo">
                </button>
                <div class="clear-badge" id="spy-clear">CLEAR</div>
            </div>
        </section>

        <!-- ALL CLEARED ENDING -->
        <section id="ending-section">
            <h2 style="color:white;">ğŸ‰ ì„¸ ê°œì˜ ìŠ¤í† ë¦¬ë¥¼ ëª¨ë‘ í´ë¦¬ì–´í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰</h2>
            <button onclick="window.location.href='closing.html'">í´ë¡œì§• ì˜ìƒ ë³´ëŸ¬ ê°€ê¸°</button>
        </section>

    </main>

    <!-- RESET BUTTON -->
    <div style="text-align:center; margin-top:20px; margin-bottom:40px;">
        <button onclick="resetProgress()" style="
            background-color:#333;
            color:white;
            padding:12px 20px;
            border:none;
            border-radius:1cm;
            font-size:14px;
            cursor:pointer;
        ">
            ì „ì²´ ì§„í–‰ìƒí™© ì´ˆê¸°í™”
        </button>
    </div>

    <!-- FOOTER -->
    <footer>
        <p>&copy; 2025 ë‘ë ˆêµíšŒ ì²­ë…„ë¶€. All rights reserved.</p>
    </footer>


    <!-- JS (ë„ˆê°€ ê¸°ì¡´ script.jsì— ë„£ì–´ë‘” ê¸°ëŠ¥ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë„ë¡ ì•„ë˜ëŠ” ìµœì†Œí•œë§Œ ë„£ìŒ) -->
    <script>
        function navigateToStory(page) {
            window.location.href = page;
        }

        function resetProgress() {
            if (!confirm("ì •ë§ ì „ì²´ ì§„í–‰ìƒí™©ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;

            localStorage.removeItem('examCleared');
            localStorage.removeItem('laptopCleared');
            localStorage.removeItem('spyCleared');

            alert("ì „ì²´ ì§„í–‰ìƒí™©ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤!");
            location.reload();
        }

        // CLEAR í‘œì‹œ
        document.addEventListener("DOMContentLoaded", () => {
            const exam = localStorage.getItem('examCleared');
            const laptop = localStorage.getItem('laptopCleared');
            const spy = localStorage.getItem('spyCleared');

            if (exam === '1') document.getElementById('exam-clear').style.opacity = 1;
            if (laptop === '1') document.getElementById('laptop-clear').style.opacity = 1;
            if (spy === '1') document.getElementById('spy-clear').style.opacity = 1;

            if (exam === '1' && laptop === '1' && spy === '1') {
                document.getElementById('ending-section').style.display = "block";
            }
        });
    </script>

</body>
</html>
